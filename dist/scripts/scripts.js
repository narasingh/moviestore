(function(){"use strict";angular.module("movapp",["ngStorage","ngAnimate","angularSpinner","toastr","mov.api","mov.common","mov.account","mov.movies","mov.featured","mov.search","mov.list","dc.endlessScroll","ui.router","angularUtils.directives.dirPagination","mov.authenticate","mov.people"]).config(["toastrConfig","$stateProvider","$urlRouterProvider",function(e,t,n){n.otherwise("/home"),t.state("home",{url:"/home",templateUrl:"views/movies/featured-movies.html",controller:"movFeaturedController"}).state("movies",{url:"/moviedetails/:id",templateUrl:"views/movies/movies-details.html",controller:"movDetailsController"}).state("nowplaying",{url:"/nowplaying",templateUrl:"views/movies/movies-playing.html",controller:"MovLatestMoviesController as LatestMoviesCtrl"}).state("upcoming",{url:"/upcoming",templateUrl:"views/movies/movies-upcoming.html",controller:"MovUpcomingController as movUpcomingCtrl"}).state("latest",{url:"/latest.movies",templateUrl:"views/movies/movies-list.html",controller:"MovListController as movListCtrl"}).state("login",{url:"/user.login",templateUrl:"views/authentication/user-login.html",controller:"UserLoginController as userCtrl"}).state("people",{url:"/popular.person",templateUrl:"views/people/popular-people.html",controller:"PeopleController as peopleCtrl"}).state("person",{url:"/popular.person/:id",templateUrl:"views/people/person-info.html",controller:"PeopleController as peopleCtrl"}).state("account",{url:"/user.account",templateUrl:"views/authentication/user-account.html",controller:"ListController as listCtrl",resolve:{auth:["$q","Auth",function(e,t){if(!t.isLoggedIn()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}).state("watchlistmovies",{url:"/user.watchlist/:type",templateUrl:"views/authentication/user-account.html",controller:"ListController as listCtrl",resolve:{auth:["$q","Auth",function(e,t){if(!t.isLoggedIn()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}).state("favoritemovies",{url:"/user.favorite/:type",templateUrl:"views/authentication/user-account.html",controller:"ListController as listCtrl",resolve:{auth:["$q","Auth",function(e,t){if(!t.isLoggedIn()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}).state("showlist",{url:"/user.account/:page",templateUrl:"views/authentication/user-account.html",controller:"ListController as listCtrl",resolve:{auth:["$q","Auth",function(e,t){if(!t.isLoggedIn()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}).state("createlist",{url:"/create.list",templateUrl:"views/authentication/user-account.html",controller:"ListController as listCtrl",resolve:{auth:["$q","Auth",function(e,t){if(!t.isLoggedIn()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}).state("logout",{url:"/user.logout",resolve:{auth:["$q","Auth",function(e,t){if(t.logout()){var n={code:"NOT_AUTHENTICATED"};return e.reject(n)}}]}}),angular.extend(e,{autoDismiss:!0,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}]).constant("CONFIG",{baseUrl:"http://api.themoviedb.org/3/",key:"6fbb0ef60b41be2618fdba45a982f5af"}).run(["movCommonApi","Logger","$rootScope","$state",function(e,t,n,r){e.setConfiguration(),e.setSessionId(),n.$on("$stateChangeStart",function(e,t){n.currentState=function(e){return"object"==typeof e&&e.indexOf(t.name)>-1||t.name===e}}),n.$on("$stateChangeError",function(e,t,n,i,o,a){"NOT_AUTHENTICATED"===a.code&&r.go("login")}),n.$on("mov-success.handler",function(e,n){var r=n.status;[200,201].indexOf(r)>-1&&t.success(n.data.success_message,n.data,"Success")}),n.$on("mov-error.handler",function(e,n){var r=n.status;[401,403,500,501].indexOf(r)>-1&&t.error(n.data.status_message,n.data,"Error")})}])})(),function(){"use strict";function e(e,t,n){var r=function(e){var t=e.url;return t+(t.indexOf("?")>-1?"&api_key="+n.key:"?api_key="+n.key)},i=function(e){var t=e.url,n=e.params&&e.params.extraParams||e.data.extraParams;return angular.forEach(n,function(e){t=t.replace("{"+e.key+"}",e.value)}),e.params&&delete e.params.extraParams,e.data&&delete e.data.extraParams,t};return{request:function(e){var o=e.url.indexOf(n.baseUrl)>-1;return o&&(e.url=r(e)),e.params!==void 0&&e.params.hasOwnProperty("extraParams")&&o&&(e.url=i(e)),"POST"===e.method&&e.data.hasOwnProperty("extraParams")&&o&&(e.url=i(e)),o&&t.$broadcast("us-spinner:spin","spinner-1"),e},requestError:function(n){return t.$broadcast("us-spinner:stop","spinner-1"),e.reject(n)},response:function(n){return t.$broadcast("us-spinner:stop","spinner-1"),n.data&&n.data.status_code&&t.$broadcast("mov-success.handler",n),e.resolve(n)},responseError:function(n){return t.$broadcast("us-spinner:stop","spinner-1"),t.$broadcast("mov-error.handler",n),e.reject(n)}}}function t(e){e.interceptors.push("movApi")}e.$inject=["$q","$rootScope","CONFIG"],t.$inject=["$httpProvider"],angular.module("mov.api",[]).factory("movApi",e).config(["$httpProvider",t])}(),function(){"use strict";function e(e,t,n){var r=t.baseUrl,i=angular.extend(this,n),o=i.getSessionId();i.getAccountInfo=function(){return e.get(r+"account",{params:{session_id:i.getSessionId()}})},i.getFavoriteMovies=function(t){var t=angular.extend(t,{session_id:o});return e.get(r+"account/{id}/favorite/movies",{params:t})},i.getFavoriteTvShows=function(t){var t=angular.extend(t,{session_id:o});return e.get(r+"account/{id}/favorite/tv",{params:t})},i.addToFavorite=function(t){return e.post(r+"account/{id}/favorite?session_id="+o,t)},i.getRatedTvShows=function(t){var t=angular.extend(t,{session_id:o});return e.post(r+"account/id/rated/tv",{params:t})},i.getRatedTvEpisodes=function(t){var t=angular.extend(t,{session_id:o});return e.post(r+"account/id/rated/tv/episodes",{params:t})},i.getWatchListMovies=function(t){return e.get(r+"account/{id}/watchlist/movies?session_id="+o,{params:t})},i.getWatchListTv=function(t){var t=angular.extend(t,{session_id:o});return e.post(r+"account/id/watchlist/tv",{params:t})},i.getRatedMovies=function(t){var t=angular.extend(t,{session_id:o});return e.post(r+"account/id/rated/movies",{params:t})},i.addToWatchList=function(t){return e.post(r+"account/{id}/watchlist?session_id="+o,t)}}e.$inject=["$http","CONFIG","movCommonApi"],angular.module("mov.account",[]).service("movAccountApi",e)}(),function(){"use strict";function e(e,t,n,r){var i=this,o=t.baseUrl,a=n.getSessionId();i.getMovieDetail=function(t){return t=t||{},e.get(o+"movie/{id}",{params:t})},i.getMovieList=function(t){return t=t||{},e.get(o+"movie/{id}/lists",{params:t})},i.getAccountStates=function(t){return t=t||{},e.get(o+"movie/{id}/account_states",{params:{session_id:a}})},i.getAccountTitles=function(t){return t=t||{},e.get(o+"movie/{id}/alternative_titles",{params:{session_id:a}})},i.getAccountCredits=function(){return e.get(o+"movie/{id}/credits")},i.getMovieImages=function(t){return t=t||{},e.get(o+"movie/{id}/images",{params:t})},i.getMovieByKeywords=function(t){return t=t||{},e.get(o+"movie/{id}/keywords",{params:t})},i.getMovieRelease=function(t){return t=t||{},e.get(o+"movie/{id}/releases",{params:t})},i.getMovieVideo=function(t){return t=t||{},e.get(o+"movie/{id}/videos",{params:t})},i.getMovieTranslation=function(t){return t=t||{},e.get(o+"movie/{id}/translations",{params:t})},i.getSimilarMovies=function(t){return t=t||{},e.get(o+"movie/{id}/similar",{params:t})},i.getMovieReviews=function(t){return t=t||{},e.get(o+"movie/{id}/reviews",{params:t})},i.getMovieChanges=function(t){return t=t||{},e.get(o+"movie/{id}/changes",{params:t})},i.setMovieRating=function(t){var t=t||{},n=r.isLoggedIn()&&"session_id="||"guest_session_id=";return e.post(o+"movie/{id}/rating?"+n+a,t)},i.deleteMovieRating=function(t){return t=t||{},e.get(o+"movie/{id}/rating",{params:t})},i.getNowPlaying=function(t){return t=t||{},e.get(o+"movie/now_playing",{params:t})},i.geLatestMovies=function(t){return t=t||{},e.get(o+"movie/latest",{params:t})},i.getPopularMovies=function(t){return t=t||{},e.get(o+"movie/popular",{params:t})},i.getTopRatedMovies=function(t){return t=t||{},e.get(o+"movie/top_rated",{params:t})},i.getUpComingMovies=function(t){return t=t||{},e.get(o+"movie/upcoming",{params:t})}}e.$inject=["$http","CONFIG","movCommonApi","Auth"],angular.module("mov.movies",[]).service("movMoviesApi",e)}(),function(){"use strict";function e(e,t,n,r,i,o){var a=t.baseUrl,s={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",setConfiguration:function(){r.imageInfo||e.get(a+"configuration").then(this.setImageInfo)},setSessionId:function(){return this.getSessionId()?void 0:e.get(a+"authentication/guest_session/new").then(this.setToken)},getSessionId:function(){return n.$default().session_id||n.$default().guest_session_id||null},generateNewSession:function(){var t=this,n=this.getToken(),r=o.defer();return e.get(a+"/authentication/session/new",{params:n}).then(function(e){t.setToken(e),r.resolve(e)}).catch(function(e){r.reject(e)}),r.promise},generateGuestSession:function(){return e.get(a+"/authentication/guest_session/new")},generateAuthToken:function(){var t=this,n=t.getToken(),r=n.expires_at,i=r&&r.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/)||[],s=i.length&&new Date(i[1],i[2]-1,i[3],i[4],i[5],i[6]),u=s&&Math.floor(s.getTime()/1e3)||Date.now(),c=Date.now()/1e3,l=o.defer();return n.request_token&&60>u-c||!n.request_token?e.get(a+"authentication/token/new",{}).then(function(e){t.setToken(e),l.resolve({request_token:e.data.request_token})}).catch(function(e){l.reject(e)}):l.resolve(n),l.promise},getAuthTokenWithLogin:function(t){return e.get(a+"authentication/token/validate_with_login",{params:t}).then(this.registerTokenWithLogin.bind(this)).catch(function(e){return e})},getToken:function(){var e=n.$default();return{request_token:e.request_token||null,expires_at:e.request_expires_at&&e.request_expires_at.replace(" UTC","")||null}},registerTokenWithLogin:function(e){var t=this;return"object"==typeof e&&200===e.status&&n.$default({request_token:t.base64Encode(e.data.request_token),userInfo:"MOV"+e.data.request_token}),e.status},setToken:function(e){"object"==typeof e&&e.data.request_token?n.$default({request_token:e.data.request_token,request_expires_at:e.data.expires_at}):e.data.session_id?n.$default({session_id:e.data.session_id}):e.data.guest_session_id&&n.$default({guest_session_id:e.data.guest_session_id})},setImageInfo:function(e){i.$storage=r.$default({imageInfo:JSON.stringify(e.data)})},getImageInfo:function(){var e=r.imageInfo&&JSON.parse(r.imageInfo)||{};return e.images},getValueByKey:function(e,t){if(e.length){var n={name:""};return angular.forEach(e,function(e){e.code===t&&(n=e)}),n}return!1},languageList:function(){return[{code:"ab",name:"Abkhaz"},{code:"aa",name:"Afar"},{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"an",name:"Aragonese"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"av",name:"Avaric"},{code:"ae",name:"Avestan"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"ba",name:"Bashkir"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali; Bangla"},{code:"bh",name:"Bihari"},{code:"bi",name:"Bislama"},{code:"bs",name:"Bosnian"},{code:"br",name:"Breton"},{code:"bg",name:"Bulgarian"},{code:"my",name:"Burmese"},{code:"ca",name:"Catalan; Valencian"},{code:"ch",name:"Chamorro"},{code:"ce",name:"Chechen"},{code:"ny",name:"Chichewa; Chewa; Nyanja"},{code:"zh",name:"Chinese"},{code:"cv",name:"Chuvash"},{code:"kw",name:"Cornish"},{code:"co",name:"Corsican"},{code:"cr",name:"Cree"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Divehi; Dhivehi; Maldivian;"},{code:"nl",name:"Dutch"},{code:"dz",name:"Dzongkha"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"fo",name:"Faroese"},{code:"fj",name:"Fijian"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"ff",name:"Fula; Fulah; Pulaar; Pular"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek, Modern"},{code:"gn",name:"Guaran"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian; Haitian Creole"},{code:"ha",name:"Hausa"},{code:"he",name:"Hebrew (modern)"},{code:"hz",name:"Herero"},{code:"hi",name:"Hindi"},{code:"ho",name:"Hiri Motu"},{code:"hu",name:"Hungarian"},{code:"ia",name:"Interlingua"},{code:"id",name:"Indonesian"},{code:"ie",name:"Interlingue"},{code:"ga",name:"Irish"},{code:"ig",name:"Igbo"},{code:"ik",name:"Inupiaq"},{code:"io",name:"Ido"},{code:"is",name:"Icelandic"},{code:"it",name:"Italian"},{code:"iu",name:"Inuktitut"},{code:"ja",name:"Japanese"},{code:"jv",name:"Javanese"},{code:"kl",name:"Kalaallisut, Greenlandic"},{code:"kn",name:"Kannada"},{code:"kr",name:"Kanuri"},{code:"ks",name:"Kashmiri"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ki",name:"Kikuyu, Gikuyu"},{code:"rw",name:"Kinyarwanda"},{code:"ky",name:"Kyrgyz"},{code:"kv",name:"Komi"},{code:"kg",name:"Kongo"},{code:"ko",name:"Korean"},{code:"ku",name:"Kurdish"},{code:"kj",name:"Kwanyama, Kuanyama"},{code:"la",name:"Latin"},{code:"lb",name:"Luxembourgish, Letzeburgesch"},{code:"lg",name:"Ganda"},{code:"li",name:"Limburgish, Limburgan, Limburger"},{code:"ln",name:"Lingala"},{code:"lo",name:"Lao"},{code:"lt",name:"Lithuanian"},{code:"lu",name:"Luba-Katanga"},{code:"lv",name:"Latvian"},{code:"gv",name:"Manx"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"MÄori"},{code:"mr",name:"Marathi"},{code:"mh",name:"Marshallese"},{code:"mn",name:"Mongolian"},{code:"na",name:"Nauru"},{code:"nv",name:"Navajo, Navaho"},{code:"nb",name:"Norwegian BokmÃ¥l"},{code:"nd",name:"North Ndebele"},{code:"ne",name:"Nepali"},{code:"ng",name:"Ndonga"},{code:"nn",name:"Norwegian Nynorsk"},{code:"no",name:"Norwegian"},{code:"ii",name:"Nuosu"},{code:"nr",name:"South Ndebele"},{code:"oc",name:"Occitan"},{code:"oj",name:"Ojibwe, Ojibwa"},{code:"cu",name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic"},{code:"om",name:"Oromo"},{code:"or",name:"Oriya"},{code:"os",name:"Ossetian, Ossetic"},{code:"pa",name:"Panjabi, Punjabi"},{code:"pi",name:"PÄli"},{code:"fa",name:"Persian (Farsi)"},{code:"pl",name:"Polish"},{code:"ps",name:"Pashto, Pushto"},{code:"pt",name:"Portuguese"},{code:"qu",name:"Quechua"},{code:"rm",name:"Romansh"},{code:"rn",name:"Kirundi"},{code:"ro",name:"Romanian, [])"},{code:"ru",name:"Russian"},{code:"sa",name:"Sanskrit (Saá¹ská¹›ta)"},{code:"sc",name:"Sardinian"},{code:"sd",name:"Sindhi"},{code:"se",name:"Northern Sami"},{code:"sm",name:"Samoan"},{code:"sg",name:"Sango"},{code:"sr",name:"Serbian"},{code:"gd",name:"Scottish Gaelic; Gaelic"},{code:"sn",name:"Shona"},{code:"si",name:"Sinhala, Sinhalese"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovene"},{code:"so",name:"Somali"},{code:"st",name:"Southern Sotho"},{code:"az",name:"South Azerbaijani"},{code:"es",name:"Spanish; Castilian"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"ss",name:"Swati"},{code:"sv",name:"Swedish"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"tg",name:"Tajik"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"bo",name:"Tibetan Standard, Tibetan, Central"},{code:"tk",name:"Turkmen"},{code:"tl",name:"Tagalog"},{code:"tn",name:"Tswana"},{code:"to",name:"Tonga (Tonga Islands)"},{code:"tr",name:"Turkish"},{code:"ts",name:"Tsonga"},{code:"tt",name:"Tatar"},{code:"tw",name:"Twi"},{code:"ty",name:"Tahitian"},{code:"ug",name:"Uyghur, Uighur"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"ve",name:"Venda"},{code:"vi",name:"Vietnamese"},{code:"vo",name:"VolapÃ¼k"},{code:"wa",name:"Walloon"},{code:"cy",name:"Welsh"},{code:"wo",name:"Wolof"},{code:"fy",name:"Western Frisian"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"za",name:"Zhuang, Chuang"},{code:"zu",name:"Zulu"}]},base64Encode:function(e){var t,n,r,i,o,a=this,s="",u="",c="",l=0;do t=e.charCodeAt(l++),n=e.charCodeAt(l++),u=e.charCodeAt(l++),r=t>2,i=4>(t&&3)||n>4,o=2>(n&&15)||u>6,c=u&&63,isNaN(n)?o=c=64:isNaN(u)&&(c=64),s=s+a.keyStr.charAt(r)+a.keyStr.charAt(i)+a.keyStr.charAt(o)+a.keyStr.charAt(c),t=n=u="",r=i=o=c="";while(e.length>l);return s},base64Decode:function(e){var t,n,r,i,o,a=this,s="",u="",c="",l=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&window.alert("There were invalid base64 characters in the input text\nNaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=a.keyStr.indexOf(e.charAt(l++)),i=a.keyStr.indexOf(e.charAt(l++)),o=a.keyStr.indexOf(e.charAt(l++)),c=a.keyStr.indexOf(e.charAt(l++)),t=2>r||i>4,n=4>(i&&15)||o>2,u=6>(o&&3)||c,s+=String.fromCharCode(t),64!==o&&(s+=String.fromCharCode(n)),64!==c&&(s+=String.fromCharCode(u)),t=n=u="",r=i=o=c="";while(e.length>l);return s}};return s}e.$inject=["$http","CONFIG","$sessionStorage","$localStorage","$rootScope","$q"],angular.module("mov.common",[]).factory("movCommonApi",e)}(),function(){"use strict";function e(e,t){var n=this,r=t.baseUrl;n.searchCompany=function(t){return t=t||{},e.get(r+"search/company",{params:t})},n.searchCollection=function(t){return t=t||{},e.get(r+"search/collection",{params:t})},n.searchKeyword=function(t){return t=t||{},e.get(r+"search/keyword",{params:t})},n.searchList=function(t){return t=t||{},e.get(r+"search/list",{params:t})},n.searchMultiList=function(t){return t=t||{},e.get(r+"search/multi",{params:t})},n.searchPerson=function(t){return t=t||{},e.get(r+"search/person",{params:t})},n.searchTvShows=function(t){return t=t||{},e.get(r+"search/tv",{params:t})}}e.$inject=["$http","CONFIG"],angular.module("mov.search",[]).service("MovSearch",e)}(),function(){"use strict";angular.module("mov.list",[]).factory("MovList",["movCommonApi","$http","CONFIG",function(e,t,n){function r(){var t=angular.extend(this,e);t.sessionId=t.getSessionId(),t.baseUrl=n.baseUrl}return r.prototype={getList:function(e){return t.get(this.baseUrl+"account/id/lists?session_id="+this.sessionId,{params:e})},getListById:function(e){return t.post(this.baseUrl+"list/{id}",e)},deleteListById:function(e){return t.delete(this.baseUrl+"list/{id}",{params:e})},createNewList:function(e){return t.post(this.baseUrl+"list?session_id="+this.sessionId,e)},itemIsAdded:function(e){return t.post(this.baseUrl+"list/{id}/item_status",e)},addListItem:function(e){return t.post(this.baseUrl+"list/{id}/add_item?session_id="+this.sessionId,e)},removeListItem:function(e){return t.post(this.baseUrl+"list/{id}/remove_item",e)},clearListItems:function(e){return t.post(this.baseUrl+"list/{id}/clear",e)}},r}])}(),function(){"use strict";function e(e,t){var n,r=this,i=e.baseUrl;r.getPersonDetails=function(e){return e=e||{},t.get(i+"person/{id}",{params:e})},r.getMovieCreditById=function(e){return e=e||{},t.get(i+"person/{id}/movie_credits",{params:e})},r.getTvCreditById=function(e){return e=e||{},t.get(i+"person/{id}/tv_credits",{params:e})},r.getCombinedCredits=function(e){return e=e||{},t.get(i+"person/{id}/combined_credits",{params:e})},r.getExternalIds=function(e){return e=e||{},t.get(i+"person/{id}/external_ids",{params:e})},r.getImagesById=function(e){return e=e||{},t.get(i+"person/{id}/images",{params:e})},r.getTaggedImages=function(e){return e=e||{},t.get(i+"person/{id}/tagged_images",{params:e})},r.getChangesById=function(){return n=n||{},t.get(i+"person/{id}/changes",{params:n})},r.getPopularPeople=function(e){return e=e||{},t.get(i+"person/popular",{params:e})},r.getLatestPerson=function(e){return e=e||{},t.get(i+"person/latest",{params:e})}}e.$inject=["CONFIG","$http"],angular.module("mov.people",[]).service("movPeople",e)}(),function(){"use strict";function e(e,t){function n(n,r,i){t.error(n,i),e.log("Error: "+n,r)}function r(e,n,r){t.success(e,r)}function i(n,r,i){t.warning(n,i),e.log("Warning: "+n,r)}function o(e,n,r){t.info(e,r)}var a={error:n,info:o,success:r,warning:i,log:e.log};return a}e.$inject=["$log","toastr"],angular.module("mov.common").factory("Logger",e)}(),function(){"use strict";function e(e,t,n,r){function i(){return n.$default()&&n.$default().session_id&&!0||!1}function o(e){return f.generateAuthToken().then(function(t){return e.request_token=t.request_token,f.getAuthTokenWithLogin(e)}).then(function(e){return 200===e||200===e.status?f.generateNewSession():(d.reject(e),d.promise)}).then(function(e){d.resolve(e)}).catch(function(e){d.reject(e)}),d.promise}function a(){return n.$reset(),!0}function s(){}function u(){if(i()){if(!l())return f.getAccountInfo().then(c);d.resolve(l())}else d.reject({error:!0});return d.promise}function c(e){return n.$default({userDetails:JSON.stringify(e.data)}),e.data}function l(){var e=n.$default().userDetails;return e&&JSON.parse(e)||null}var f=angular.extend(this,e,r),d=t.defer();return{login:o,logout:a,createAccount:s,isLoggedIn:i,getUserInfo:u,getInfoSessioin:l,storeInfoSessioin:c}}e.$inject=["movCommonApi","$q","$sessionStorage","movAccountApi"],angular.module("mov.account").factory("Auth",e)}(),function(){"use strict";function e(e){function t(){n.tabs=[{title:"Featured Movies",state:"home"},{title:"Now Playing",state:"nowplaying"},{title:"Coming Soon",state:"upcoming"},{title:"Top Rated",state:"latest"}]}var n=this;n.stateChange=function(){console.log(e.is("home"))},t()}e.$inject=["$state"],angular.module("mov.common").controller("movBaseController",e)}(),function(){"use strict";function e(e,t,n,r,i,o){var a=this,s=new t,u={account:"views/authentication/favorite.html",watchlist:"views/authentication/watchlist.html",createlist:"views/authentication/create-list.html",watchlistmovies:"views/authentication/movies-watchlist.html",favoritemovies:"views/authentication/movies-watchlist.html"},s=new t,c=r.getInfoSessioin();a.pageChanged=function(t){var s=n.current.name,u={page:t||1,extraParams:[{key:"id",value:c.id}]};"watchlistmovies"===s&&(a.title="Watchlist",i.getWatchListMovies(u).then(function(n){var r=n.data;a.pagination={per_page:20,current_page:t,total_pages:r.total_pages,total_results:r.total_results},a.movies=n.data.results,e.imageInfo=o.getImageInfo()})),"watchlisttv"===s&&r.getWatchListTv(),"favoritemovies"===s&&(a.title="Favorite",i.getFavoriteMovies(u).then(function(n){var r=n.data;a.pagination={per_page:20,current_page:t,total_pages:r.total_pages,total_results:r.total_results},a.movies=n.data.results,e.imageInfo=o.getImageInfo()})),"favoritetv"===s&&r.getFavoriteTvShows()},a.list={},a.userInfo={avatar:c.avatar.gravatar+".jpg?s=251 1x",name:c.username,avatarUrl:"https://secure.gravatar.com/avatar/"},a.page=u[n.current.name],a.languages=s.languageList(),a.data={language:a.languages[0]},a.createNew=function(e){var t=e.data;t.language=t.language.code,s.createNewList(t).then(onSuccess)},a.delete=function(){},a.pageChanged(1)}e.$inject=["$scope","MovList","$state","Auth","movAccountApi","movCommonApi"],angular.module("mov.list").controller("ListController",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{},link:function(){},templateUrl:"views/pagination/endless-pagination.html"}}angular.module("mov.common").directive("movEndLessPagination",[e])}(),function(){"use strict";function e(){return{restrict:"EA",scope:{list:"=list",isShow:"@"},templateUrl:"views/mov.tab.directive.html"}}angular.module("mov.common").directive("movUiTab",[e])}(),function(){"use strict";function e(e,t,n,r){var i=function(t){var n=t.data;e.upcomingDates=n.dates,e.page=n.page,e.pagination={current_page:n.page,total_pages:n.total_pages},e.upcomingMovies=e.upcomingMovies||[],e.upcomingMovies.push.apply(e.upcomingMovies,n.results),e.loading=!1},o=function(n){var r={page:n},o=e.pagination&&e.pagination.current_page>=e.pagination.total_pages&&1>=e.pagination.current_page,a=e.pagination&&e.pagination.total_pages||void 0;(!o&&a>=n||!a)&&(e.loading=!0,t.getPopularMovies(r).then(i))};e.isLoggedIn=r.isLoggedIn(),e.$on("endlessScroll:next",function(){var t=e.pagination?e.pagination.current_page+1:1;o(t)}),o(1),e.imageInfo=n.getImageInfo()}e.$inject=["$scope","movMoviesApi","movCommonApi","Auth"],angular.module("mov.featured",["dc.endlessScroll"]).controller("movFeaturedController",e)}(),function(){"use strict";function e(e,t,n,r){var i=[{key:"id",value:t.id}],o={extraParams:i,append_to_response:"credits"},a=({session_id:r.getSessionId(),guest_session_id:"",extraParams:i},function(t){e.movies=t.data,e.movies.description=e.movies.overview,e.movies.age_restriction=!e.movies.adult&&13||17,e.movies.rating=0});e.movies={},n.getMovieDetail(o).then(a),e.imageInfo=r.getImageInfo()}e.$inject=["$scope","$stateParams","movMoviesApi","movCommonApi"],angular.module("mov.featured").controller("movDetailsController",e)}(),function(){"use strict";function e(e,t,n){var r=this;r.pageChanged=function(i){var o={page:i||1};t.getNowPlaying(o).then(function(t){var o=t.data;r.pagination={per_page:20,current_page:i,total_pages:o.total_pages,total_results:o.total_results},r.movies=t.data.results,e.imageInfo=n.getImageInfo()})},r.pageChanged()}e.$inject=["$scope","movMoviesApi","movCommonApi"],angular.module("mov.featured").controller("MovLatestMoviesController",e)}(),function(){"use strict";function e(e,t,n){var r=this;r.pageChanged=function(i){var o={page:i||1};t.getUpComingMovies(o).then(function(t){var o=t.data;r.pagination={per_page:20,current_page:i,total_pages:o.total_pages,total_results:o.total_results},r.movies=t.data.results,e.imageInfo=n.getImageInfo()})},r.pageChanged()}e.$inject=["$scope","movMoviesApi","movCommonApi"],angular.module("mov.featured").controller("MovUpcomingController",e)}(),function(){"use strict";function e(e,t){var n=this;n.pageChanged=function(r){var i={page:r||1};n.imageInfo=t.getImageInfo(),e.getTopRatedMovies(i).then(function(e){var t=e.data;n.pagination={per_page:20,current_page:r,total_pages:t.total_pages,total_results:t.total_results},n.movies=e.data.results})},n.pageChanged()}e.$inject=["movMoviesApi","movCommonApi"],angular.module("mov.common").controller("MovListController",e)}(),function(){"use strict";function e(e,t,n){var r=this;r.userLogin=function(r){e.login(r).then(function(e){e.status&&200===e.status&&(n.$broadcast("user.authencated",e),t.path("#home"))}).catch(function(e){console.log(e)})},n.$broadcast("user.logout")}e.$inject=["Auth","$location","$rootScope"],angular.module("mov.authenticate",[]).controller("UserLoginController",e)}(),function(){"use strict";function e(e,t,n){var r=this,i=n.current.name;r.pageChanged=function(t){var n={page:t||1};e.getPopularPeople(n).then(function(e){var n=e.data;r.pagination={per_page:20,current_page:t,total_pages:n.total_pages,total_results:n.total_results},r.people=e.data.results})},r.personInfo=function(){var t=n.params.id,i={extraParams:[{key:"id",value:t}]};e.getPersonDetails(i).then(function(e){r.person=e.data})};var o={people:r.pageChanged,person:r.personInfo};r.imageInfo=t.getImageInfo(),i&&o[i].call(this)}e.$inject=["movPeople","movCommonApi","$state"],angular.module("mov.people").controller("PeopleController",e)}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{id:"@id",noOfRecords:"@noOfRecords",imageUrl:"@imageUrl",type:"@type"},link:function(t){var n=function(e){t.similarMovies=e.data.results},r=function(e){t.similarMovies=e.data.hasOwnProperty("results")&&e.data.results.sort(function(){return Math.random()-.5})};"toprated"===t.type&&e.getTopRatedMovies().then(r),t.$watch("id",function(r){if(r){var i={page:1,extraParams:[{key:"id",value:t.id}]};e.getSimilarMovies(i).then(n)}})},templateUrl:"views/movies/mov.similar.movies.html"}}e.$inject=["movMoviesApi"],angular.module("mov.common").directive("movSimilarMovies",e)}(),function(){function e(){"use strict";return{restrict:"EA",scope:{credits:"=credits"},link:function(){},templateUrl:"views/movies/movie-actors.html"}}angular.module("mov.common").directive("movCreditsActors",e)}(),function(){"use strict";function e(e){return{restrict:"E",require:["ngModel"],scope:{ratingValue:"=ngModel",max:"=?",readonly:"=?",movId:"@movId"},link:function(t){function n(n){t.stars=[];for(var r=0;t.max>r;r++)t.stars.push({filled:t.ratingValue>r&&t.ratingValue});if(n){var i={extraParams:[{key:"id",value:t.movId}],value:t.ratingValue};e.setMovieRating(i).then(function(e){console.log(e)})}}void 0===t.max&&(t.max=5),t.toggle=function(e){(void 0===t.readonly||t.readonly===!1)&&(t.ratingValue=e+1,n(!0))},t.$watch("ratingValue",function(e){(e||0===e)&&n()})},templateUrl:"views/mov.ratings.html"}}e.$inject=["movMoviesApi"],angular.module("mov.common").directive("movRating",e)}(),function(){"use strict";function e(e,t,n){return{restrict:"E",scope:{type:"@type",mediaType:"@mediaType",mediaId:"@mediaId"},link:function(t){var r=n.getInfoSessioin(),i=[{key:"id",value:n.isLoggedIn()&&r.id||null}];t.addToFavorite=function(n){var r={media_id:t.mediaId,media_type:t.mediaType,favorite:n,extraParams:i};e.addToFavorite(r).then(function(e){12===e.data.status_code&&t.addToFavorite(!1)})},t.addToWatchList=function(n){var r={media_id:t.mediaId,media_type:t.mediaType,watchlist:n,extraParams:i};e.addToWatchList(r).then(function(e){12===e.data.status_code&&t.addToWatchList(!1)})};var o={list:"views/list/mov.addtolist.directive.html",detail:"views/authentication/mov.addtowatch.directive.html"};t.html=t.type&&o[t.type]||o.list},template:'<ng-include src="html"></ng-include>'}}e.$inject=["movAccountApi","movCommonApi","Auth"],angular.module("mov.common").directive("addToList",e)}(),function(){"use strict";function e(){return{restrict:"E",require:["^form"],scope:{btnName:"@btnName",btnId:"@btnId",btnValue:"@btnValue",btnAction:"&btnAction",form:"@form",btnClass:"@btnClass"},link:function(e,t,n,r){e.formIsValid=function(){return r[0].$valid},e.triggerAction=function(){e.formIsValid()&&e.btnAction()}},templateUrl:"views/mov.button.directive.html"}}angular.module("mov.common").directive("movButton",e)}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{},link:function(t){function n(){t.isLoggedIn=e.isLoggedIn(),t.isLoggedIn&&e.getUserInfo().then(function(e){t.userInfo={avatar:e.avatar.gravatar+".jpg?s=32 1x",name:e.username,avatarUrl:"https://secure.gravatar.com/avatar/"}})}t.userInfo={},t.$on("user.authencated",function(){n()}),t.$on("user.logout",function(){t.isLoggedIn=!1}),n()},templateUrl:"views/authentication/userinfo.direcitve.html"}}e.$inject=["Auth"],angular.module("mov.account").directive("userInfo",e)}(),function(){"use strict";function e(e){var t=e.languageList();return function(n){var r=e.getValueByKey(t,n);return r.name}}angular.$inject=["movCommonApi"],angular.module("mov.common").filter("language",e)}();